(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{3133:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(5155),r=a(2115),n=a(4567),l=a(5038);function i(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);async function o(){i(!0);let{data:e,error:a}=await n.N.from("users").select("*").order("created_at",{ascending:!1});a?d(a.message):s(e),i(!1)}async function h(e){let s="user"===e.role?"admin":"user",{error:a}=await n.N.from("users").update({role:s}).eq("id",e.id);a?alert(a.message):o()}async function m(e){if(!confirm("Are you sure you want to delete this user?"))return;let{error:s}=await n.N.from("users").delete().eq("id",e);s?alert(s.message):o()}return(0,r.useEffect)(()=>{o()},[]),(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)("main",{className:"flex-1 p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"User Management"}),a?(0,t.jsx)("p",{children:"Loading..."}):c?(0,t.jsx)("p",{className:"text-red-600",children:c}):(0,t.jsx)("div",{className:"overflow-x-auto bg-white p-6 rounded shadow",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"p-2",children:"Name"}),(0,t.jsx)("th",{className:"p-2",children:"Email"}),(0,t.jsx)("th",{className:"p-2",children:"Role"}),(0,t.jsx)("th",{className:"p-2",children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-2",children:e.name||"N/A"}),(0,t.jsx)("td",{className:"p-2",children:e.email}),(0,t.jsx)("td",{className:"p-2 font-semibold capitalize",children:e.role}),(0,t.jsxs)("td",{className:"p-2 space-x-2",children:[(0,t.jsx)("button",{onClick:()=>h(e),className:"text-blue-600 hover:underline",children:"admin"===e.role?"Make User":"Make Admin"}),(0,t.jsx)("button",{onClick:()=>m(e.id),className:"text-red-600 hover:underline",children:"Delete"})]})]},e.id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"text-center py-6 text-gray-500 italic",children:"No users found."})})]})]})})]})]})}},4567:(e,s,a)=>{"use strict";a.d(s,{N:()=>l});var t=a(5647);let r="https://ylpahtavddtsptdcpryx.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlscGFodGF2ZGR0c3B0ZGNwcnl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODk3MjYsImV4cCI6MjA2ODI2NTcyNn0.xj1VYpCxtxuJVpALenIh3vkNmHC4Bt07ItiFNf7UoLc";if(!r||!n)throw Error("Missing Supabase environment variables");let l=(0,t.UU)(r,n)},5038:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155),r=a(6874),n=a.n(r),l=a(5695);function i(){let e=(0,l.usePathname)();return(0,t.jsxs)("aside",{className:"w-64 h-screen bg-gray-800 text-gray-200 p-5 flex flex-col",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-8 text-white",children:"Admin Panel"}),(0,t.jsx)("nav",{className:"flex flex-col gap-3",children:[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/categories",label:"Categories"},{href:"/admin/tabs",label:"Tabs"},{href:"/admin/test-series",label:"Test Series"},{href:"/admin/questions-bank",label:"Questions Bank"},{href:"/admin/create-test",label:"Create Test"},{href:"/admin/live-test-scheduler",label:"Live Tests"},{href:"/admin/banners-slider",label:"Banners & Slider"},{href:"/admin/users-management",label:"Users Management"},{href:"/admin/transactions",label:"Transactions"},{href:"/admin/notifications",label:"Notifications"}].map(s=>{let{href:a,label:r}=s;return(0,t.jsx)(n(),{href:a,className:"block px-4 py-2 rounded hover:bg-gray-700 transition ".concat(e.startsWith(a)?"bg-gray-700 font-semibold":""),children:r},a)})})]})}},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},8499:(e,s,a)=>{Promise.resolve().then(a.bind(a,3133))}},e=>{e.O(0,[647,874,441,964,358],()=>e(e.s=8499)),_N_E=e.O()}]);