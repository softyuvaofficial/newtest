(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{382:(e,s,a)=>{Promise.resolve().then(a.bind(a,1030))},1030:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(5155),r=a(2115),i=a(4567),l=a(5038),n=a(3834),c=a(2657),d=a(9016);let o=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},m=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,r.forwardRef)((e,s)=>{let{color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:d,...o}=e;return(0,r.createElement)("svg",{ref:s,...h,width:t,height:t,stroke:a,strokeWidth:l?24*Number(i)/Number(t):i,className:m("lucide",n),...!c&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(e=>{let[s,a]=e;return(0,r.createElement)(s,a)}),...Array.isArray(c)?c:[c]])}),x=(e,s)=>{let a=(0,r.forwardRef)((a,t)=>{let{className:i,...l}=a;return(0,r.createElement)(u,{ref:t,iconNode:s,className:m("lucide-".concat(o(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...l})});return a.displayName=o(e),a},p=x("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b=x("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),f=x("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),g=x("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function N(){let[e,s]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[m,h]=(0,r.useState)({id:null,title:"",description:"",price:0,isPaid:!1,assignedTabs:[]}),[u,x]=(0,r.useState)(!1),[N,j]=(0,r.useState)(!1),[y,w]=(0,r.useState)("");(0,r.useEffect)(()=>{v(),k()},[]);let v=async()=>{x(!0);let{data:e,error:a}=await i.N.from("test_series").select("*").order("created_at",{ascending:!1});a?w(a.message):s(e),x(!1)},k=async()=>{let{data:e,error:s}=await i.N.from("test_tabs").select("*").order("id");s?w(s.message):o(e)},T=e=>{let{name:s,value:a,type:t,checked:r}=e.target;h(e=>({...e,[s]:"checkbox"===t?r:a}))},C=async e=>{e.preventDefault(),j(!0),w("");try{let e={title:m.title,description:m.description,price:Number(m.price),is_paid:m.isPaid,assigned_tabs:m.assignedTabs};m.id?await i.N.from("test_series").update(e).eq("id",m.id):await i.N.from("test_series").insert([e]),A(),v()}catch(e){w(e.message)}j(!1)},A=()=>{h({id:null,title:"",description:"",price:0,isPaid:!1,assignedTabs:[]})},S=async e=>{confirm("Delete this test series?")&&(await i.N.from("test_series").delete().eq("id",e),v())};return(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)("main",{className:"flex-1 p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Test Series Management"}),(0,t.jsxs)("form",{onSubmit:C,className:"bg-white p-6 rounded-xl shadow-lg max-w-xl mb-10 space-y-4",children:[y&&(0,t.jsx)("div",{className:"text-red-500 font-semibold",children:y}),(0,t.jsx)(c.A,{placeholder:"Test Series Title",name:"title",value:m.title,onChange:T,required:!0}),(0,t.jsx)(d.A,{placeholder:"Description",name:"description",value:m.description,onChange:T}),(0,t.jsx)(c.A,{placeholder:"Price",type:"number",name:"price",min:"0",value:m.price,onChange:T,disabled:!m.isPaid}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"isPaid",checked:m.isPaid,onChange:T}),"Paid Test Series"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold mb-2",children:"Assign Tabs:"}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:a.map(e=>(0,t.jsxs)("label",{className:"cursor-pointer px-3 py-1 rounded border ".concat(m.assignedTabs.includes(e.id)?"bg-blue-600 text-white border-blue-600":"bg-gray-100"),children:[(0,t.jsx)("input",{type:"checkbox",hidden:!0,checked:m.assignedTabs.includes(e.id),onChange:()=>{var s;return s=e.id,void h(e=>{let a=e.assignedTabs.includes(s);return{...e,assignedTabs:a?e.assignedTabs.filter(e=>e!==s):[...e.assignedTabs,s]}})}}),e.name]},e.id))})]}),(0,t.jsxs)(n.A,{type:"submit",disabled:N,children:[N?(0,t.jsx)(p,{className:"animate-spin w-4 h-4 mr-2"}):(0,t.jsx)(b,{className:"w-4 h-4 mr-2"}),m.id?"Update Test Series":"Create Test Series"]}),m.id&&(0,t.jsx)(n.A,{variant:"outline",onClick:A,className:"ml-4",children:"Cancel"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-700",children:"Existing Test Series"}),u?(0,t.jsx)(p,{className:"animate-spin w-8 h-8 text-blue-500 mx-auto my-8"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"p-2",children:"Title"}),(0,t.jsx)("th",{className:"p-2",children:"Price"}),(0,t.jsx)("th",{className:"p-2",children:"Paid"}),(0,t.jsx)("th",{className:"p-2",children:"Tabs"}),(0,t.jsx)("th",{className:"p-2",children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-100",children:[(0,t.jsx)("td",{className:"p-2",children:e.title}),(0,t.jsx)("td",{className:"p-2",children:e.price}),(0,t.jsx)("td",{className:"p-2",children:e.is_paid?"Yes":"No"}),(0,t.jsx)("td",{className:"p-2",children:(e.assigned_tabs||[]).map(e=>{var s;return null==(s=a.find(s=>s.id===e))?void 0:s.name}).filter(Boolean).join(", ")}),(0,t.jsxs)("td",{className:"p-2 flex gap-2",children:[(0,t.jsxs)(n.A,{size:"sm",onClick:()=>{h({id:e.id,title:e.title,description:e.description,price:e.price,isPaid:e.is_paid,assignedTabs:e.assigned_tabs||[]})},children:[(0,t.jsx)(f,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,t.jsxs)(n.A,{size:"sm",variant:"destructive",onClick:()=>S(e.id),children:[(0,t.jsx)(g,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},e.id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:"5",className:"text-center py-6 text-gray-500",children:"No test series found."})})]})]})})]})]})]})}},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155);let r=a(2115).forwardRef((e,s)=>{let{label:a,type:r="text",className:i="",...l}=e;return(0,t.jsxs)("div",{className:"w-full mb-4",children:[a&&(0,t.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:a}),(0,t.jsx)("input",{ref:s,type:r,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(i),...l})]})});r.displayName="Input";let i=r},3834:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155);function r(e){let{children:s,onClick:a,className:r=""}=e;return(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 ".concat(r),children:s})}a(2115)},4567:(e,s,a)=>{"use strict";a.d(s,{N:()=>l});var t=a(5647);let r="https://ylpahtavddtsptdcpryx.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlscGFodGF2ZGR0c3B0ZGNwcnl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODk3MjYsImV4cCI6MjA2ODI2NTcyNn0.xj1VYpCxtxuJVpALenIh3vkNmHC4Bt07ItiFNf7UoLc";if(!r||!i)throw Error("Missing Supabase environment variables");let l=(0,t.UU)(r,i)},5038:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var t=a(5155),r=a(6874),i=a.n(r),l=a(5695);function n(){let e=(0,l.usePathname)();return(0,t.jsxs)("aside",{className:"w-64 h-screen bg-gray-800 text-gray-200 p-5 flex flex-col",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-8 text-white",children:"Admin Panel"}),(0,t.jsx)("nav",{className:"flex flex-col gap-3",children:[{href:"/admin/dashboard",label:"Dashboard"},{href:"/admin/categories",label:"Categories"},{href:"/admin/tabs",label:"Tabs"},{href:"/admin/test-series",label:"Test Series"},{href:"/admin/questions-bank",label:"Questions Bank"},{href:"/admin/create-test",label:"Create Test"},{href:"/admin/live-test-scheduler",label:"Live Tests"},{href:"/admin/banners-slider",label:"Banners & Slider"},{href:"/admin/users-management",label:"Users Management"},{href:"/admin/transactions",label:"Transactions"},{href:"/admin/notifications",label:"Notifications"}].map(s=>{let{href:a,label:r}=s;return(0,t.jsx)(i(),{href:a,className:"block px-4 py-2 rounded hover:bg-gray-700 transition ".concat(e.startsWith(a)?"bg-gray-700 font-semibold":""),children:r},a)})})]})}},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},9016:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155);let r=a(2115).forwardRef((e,s)=>{let{label:a,rows:r=4,className:i="",...l}=e;return(0,t.jsxs)("div",{className:"w-full mb-4",children:[a&&(0,t.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:a}),(0,t.jsx)("textarea",{ref:s,rows:r,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(i),...l})]})});r.displayName="Textarea";let i=r}},e=>{e.O(0,[647,874,441,964,358],()=>e(e.s=382)),_N_E=e.O()}]);