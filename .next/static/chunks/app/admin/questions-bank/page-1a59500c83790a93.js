(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{2383:()=>{},3686:()=>{},4372:(e,s,t)=>{Promise.resolve().then(t.bind(t,4458))},4458:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5155),l=t(2115),r=t(3925);function n(){let[e,s]=(0,l.useState)(""),[t,n]=(0,l.useState)([]),[o,i]=(0,l.useState)(!1),d=async()=>{if(0===t.length)return void alert("No questions to upload!");i(!0);try{(await fetch("/api/questions/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions:t})})).ok?(alert("Questions uploaded successfully!"),n([]),s("")):alert("Upload failed.")}catch(e){alert("Error uploading: "+e.message)}i(!1)};return(0,a.jsxs)("div",{className:"max-w-xl mx-auto p-6 bg-white shadow rounded",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Bulk Upload Questions (Excel/CSV)"}),(0,a.jsx)("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:e=>{let t=e.target.files[0];if(!t)return;s(t.name);let a=new FileReader;a.onload=e=>{let s=new Uint8Array(e.target.result),t=r.LF(s,{type:"array"}),a=t.SheetNames[0],l=t.Sheets[a];n(r.Wp.sheet_to_json(l))},a.readAsArrayBuffer(t)},className:"mb-4"}),e&&(0,a.jsxs)("p",{className:"mb-4",children:["Selected File: ",e]}),t.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"mb-2 font-semibold",children:"Preview (first 3 rows):"}),(0,a.jsx)("pre",{className:"bg-gray-100 p-3 rounded max-h-48 overflow-auto text-sm",children:JSON.stringify(t.slice(0,3),null,2)}),(0,a.jsx)("button",{onClick:d,disabled:o,className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?"Uploading...":"Upload Questions"})]})]})}}},e=>{e.O(0,[524,441,964,358],()=>e(e.s=4372)),_N_E=e.O()}]);