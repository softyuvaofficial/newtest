(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{201:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),i=t(2115),n=t(5695),r=t(3579);function o(){let e=(0,r.createClientComponentClient)(),s=(0,n.useRouter)(),[t,o]=(0,i.useState)(""),[l,d]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[c,b]=(0,i.useState)(!1);async function g(a){a.preventDefault(),m(""),b(!0);let{data:i,error:n}=await e.auth.signInWithPassword({email:t,password:l});if(b(!1),n)m(n.message);else{let{data:t,error:a}=await e.from("admins").select("id").eq("user_id",i.user.id).single();if(a||!t){m("You are not authorized as admin."),await e.auth.signOut();return}s.push("/admin/dashboard")}}return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,a.jsxs)("form",{onSubmit:g,className:"bg-white p-8 rounded shadow-md max-w-md w-full",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),u&&(0,a.jsx)("div",{className:"mb-4 text-red-600 text-center",children:u}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",htmlFor:"email",children:"Email Address"}),(0,a.jsx)("input",{id:"email",type:"email",required:!0,value:t,onChange:e=>o(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",required:!0,value:l,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 rounded transition",children:c?"Logging in...":"Login"})]})})}},8577:(e,s,t)=>{Promise.resolve().then(t.bind(t,201))}},e=>{e.O(0,[647,77,441,964,358],()=>e(e.s=8577)),_N_E=e.O()}]);