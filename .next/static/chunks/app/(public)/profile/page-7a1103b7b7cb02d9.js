(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(5155),a=r(2115),n=r(9543),l=r(4567);function i(){var e,t;let{user:r,loading:i}=(0,n.r)(),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]);return((0,a.useEffect)(()=>{r&&e();async function e(){try{let{data:e,error:t}=await l.N.from("users").select("user_name, email, created_at").eq("id",r.id).single();if(t)throw t;c(e);let{data:s,error:a}=await l.N.from("test_attempts").select("test_id, score, attempted_on").eq("user_id",r.id).order("attempted_on",{ascending:!1});if(a)throw a;u(s)}catch(e){console.error(e.message)}}},[r]),i)?(0,s.jsx)("p",{children:"Loading..."}):r?(0,s.jsxs)("main",{className:"container mx-auto p-8 max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Your Profile"}),(0,s.jsxs)("section",{className:"bg-white rounded shadow p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",null!=(e=null==o?void 0:o.user_name)?e:"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",null!=(t=null==o?void 0:o.email)?t:"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Member Since:"})," ",(null==o?void 0:o.created_at)?new Date(o.created_at).toLocaleDateString():"N/A"]})]}),(0,s.jsxs)("section",{className:"bg-white rounded shadow p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Test Attempts"}),0===d.length?(0,s.jsx)("p",{children:"You have not attempted any tests yet."}):(0,s.jsxs)("table",{className:"w-full border border-gray-300 table-auto",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Test ID"}),(0,s.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Score"}),(0,s.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date Attempted"})]})}),(0,s.jsx)("tbody",{children:d.map(e=>{let{test_id:t,score:r,attempted_on:a}=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:t}),(0,s.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:r}),(0,s.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:new Date(a).toLocaleDateString()})]},"".concat(t,"-").concat(a))})})]})]})]}):(0,s.jsx)("p",{children:"Please log in to view profile."})}},4152:(e,t,r)=>{Promise.resolve().then(r.bind(r,366))},4567:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(5647);let a="https://ylpahtavddtsptdcpryx.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlscGFodGF2ZGR0c3B0ZGNwcnl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODk3MjYsImV4cCI6MjA2ODI2NTcyNn0.xj1VYpCxtxuJVpALenIh3vkNmHC4Bt07ItiFNf7UoLc";if(!a||!n)throw Error("Missing Supabase environment variables");let l=(0,s.UU)(a,n)},9543:(e,t,r)=>{"use strict";r.d(t,{UserAuthProvider:()=>i,r:()=>o});var s=r(5155),a=r(2115),n=r(4567);let l=(0,a.createContext)();function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);async function h(e){let{email:t,password:r}=e;u(!0);let{data:s,error:a}=await n.N.auth.signUp({email:t,password:r});if(u(!1),a)throw a;return s}async function x(e){let{email:t,password:r}=e;u(!0);let{data:s,error:a}=await n.N.auth.signInWithPassword({email:t,password:r});if(u(!1),a)throw a;return s}async function m(){u(!0);let{error:e}=await n.N.auth.signOut();if(u(!1),e)throw e;i(null),c(null)}return(0,a.useEffect)(()=>{n.N.auth.getSession().then(e=>{var t,r;let{data:s}=e;c(s.session),i(null!=(r=null==(t=s.session)?void 0:t.user)?r:null),u(!1)});let{data:e}=n.N.auth.onAuthStateChange((e,t)=>{var r;c(t),i(null!=(r=null==t?void 0:t.user)?r:null),u(!1)});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)(l.Provider,{value:{user:r,session:o,loading:d,signUp:h,signIn:x,signOut:m},children:t})}function o(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useUserAuth must be used within UserAuthProvider");return e}}},e=>{e.O(0,[647,441,964,358],()=>e(e.s=4152)),_N_E=e.O()}]);