(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1590:(e,t,n)=>{Promise.resolve().then(n.bind(n,5634)),Promise.resolve().then(n.bind(n,3569)),Promise.resolve().then(n.bind(n,9543)),Promise.resolve().then(n.t.bind(n,8563,23))},3569:(e,t,n)=>{"use strict";n.d(t,{AdminAuthProvider:()=>l});var s=n(5155),i=n(2115),r=n(4567);let o=(0,i.createContext)();function l(e){let{children:t}=e,[n,l]=(0,i.useState)(null),[a,d]=(0,i.useState)(!0);async function h(e){let{data:t,error:n}=await r.N.from("admins").select("id").eq("id",e.id).single();return!!t&&!n}async function u(e){let{email:t,password:n}=e;d(!0);let{data:s,error:i}=await r.N.auth.signInWithPassword({email:t,password:n});if(i)throw d(!1),i;if(!await h(s.user))throw await r.N.auth.signOut(),d(!1),Error("Access denied: Not an admin");l(s.user),d(!1)}async function c(){d(!0),await r.N.auth.signOut(),l(null),d(!1)}return(0,i.useEffect)(()=>{r.N.auth.getSession().then(e=>{let{data:t}=e;(null==t?void 0:t.session)?h(t.session.user).then(e=>{e?l(t.session.user):r.N.auth.signOut(),d(!1)}):d(!1)});let{data:e}=r.N.auth.onAuthStateChange((e,t)=>{(null==t?void 0:t.user)?h(t.user).then(e=>{e?l(t.user):(l(null),r.N.auth.signOut()),d(!1)}):(l(null),d(!1))});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)(o.Provider,{value:{admin:n,loading:a,signIn:u,signOut:c},children:t})}},4567:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var s=n(5647);let i="https://ylpahtavddtsptdcpryx.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlscGFodGF2ZGR0c3B0ZGNwcnl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODk3MjYsImV4cCI6MjA2ODI2NTcyNn0.xj1VYpCxtxuJVpALenIh3vkNmHC4Bt07ItiFNf7UoLc";if(!i||!r)throw Error("Missing Supabase environment variables");let o=(0,s.UU)(i,r)},5634:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var s=n(5155),i=n(2115),r=n(6874),o=n.n(r);function l(){let[e,t]=(0,i.useState)(!1);return(0,s.jsxs)("header",{className:"bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 text-white shadow-md fixed w-full z-50",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16",children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{className:"text-2xl font-extrabold tracking-tight hover:text-yellow-300 transition",children:"TestYukti"})}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-8 font-semibold",children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{className:"hover:text-yellow-300 transition",children:"Home"})}),(0,s.jsx)(o(),{href:"/leaderboard",children:(0,s.jsx)("a",{className:"hover:text-yellow-300 transition",children:"Leaderboard"})}),(0,s.jsx)(o(),{href:"/test-series",children:(0,s.jsx)("a",{className:"hover:text-yellow-300 transition",children:"Test Series"})}),(0,s.jsx)(o(),{href:"/contact",children:(0,s.jsx)("a",{className:"hover:text-yellow-300 transition",children:"Contact"})})]}),(0,s.jsxs)("div",{className:"hidden md:flex space-x-4",children:[(0,s.jsx)(o(),{href:"/auth/user-login",children:(0,s.jsx)("a",{className:"px-4 py-1 border border-white rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Login"})}),(0,s.jsx)(o(),{href:"/auth/user-signup",children:(0,s.jsx)("a",{className:"px-4 py-1 bg-yellow-300 text-indigo-900 rounded hover:bg-yellow-400 transition font-semibold",children:"Signup"})})]}),(0,s.jsx)("button",{onClick:()=>t(!e),className:"md:hidden focus:outline-none focus:ring-2 focus:ring-yellow-300","aria-label":"Toggle Menu",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&(0,s.jsxs)("nav",{className:"md:hidden bg-indigo-800 bg-opacity-90 text-white px-4 py-4 space-y-2",children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Home"})}),(0,s.jsx)(o(),{href:"/leaderboard",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Leaderboard"})}),(0,s.jsx)(o(),{href:"/test-series",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Test Series"})}),(0,s.jsx)(o(),{href:"/contact",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Contact"})}),(0,s.jsx)("hr",{className:"border-yellow-300 opacity-40"}),(0,s.jsx)(o(),{href:"/auth/user-login",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 border border-yellow-300 rounded hover:bg-yellow-300 hover:text-indigo-900 transition font-semibold",children:"Login"})}),(0,s.jsx)(o(),{href:"/auth/user-signup",children:(0,s.jsx)("a",{onClick:()=>t(!1),className:"block px-3 py-2 bg-yellow-300 text-indigo-900 rounded hover:bg-yellow-400 transition font-semibold",children:"Signup"})})]})]})}},8563:()=>{},9543:(e,t,n)=>{"use strict";n.d(t,{UserAuthProvider:()=>l,r:()=>a});var s=n(5155),i=n(2115),r=n(4567);let o=(0,i.createContext)();function l(e){let{children:t}=e,[n,l]=(0,i.useState)(null),[a,d]=(0,i.useState)(null),[h,u]=(0,i.useState)(!0);async function c(e){let{email:t,password:n}=e;u(!0);let{data:s,error:i}=await r.N.auth.signUp({email:t,password:n});if(u(!1),i)throw i;return s}async function x(e){let{email:t,password:n}=e;u(!0);let{data:s,error:i}=await r.N.auth.signInWithPassword({email:t,password:n});if(u(!1),i)throw i;return s}async function f(){u(!0);let{error:e}=await r.N.auth.signOut();if(u(!1),e)throw e;l(null),d(null)}return(0,i.useEffect)(()=>{r.N.auth.getSession().then(e=>{var t,n;let{data:s}=e;d(s.session),l(null!=(n=null==(t=s.session)?void 0:t.user)?n:null),u(!1)});let{data:e}=r.N.auth.onAuthStateChange((e,t)=>{var n;d(t),l(null!=(n=null==t?void 0:t.user)?n:null),u(!1)});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)(o.Provider,{value:{user:n,session:a,loading:h,signUp:c,signIn:x,signOut:f},children:t})}function a(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useUserAuth must be used within UserAuthProvider");return e}}},e=>{e.O(0,[306,647,874,441,964,358],()=>e(e.s=1590)),_N_E=e.O()}]);